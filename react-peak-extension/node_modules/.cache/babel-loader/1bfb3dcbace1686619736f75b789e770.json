{"ast":null,"code":"import _slicedToArray from \"/Applications/Peek/react-peak-extension/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Applications/Peek/react-peak-extension/src/Contexts/ModalProvider.js\";\nimport React, { useEffect, useState } from 'react';\nimport useWindowPosition from '../Hooks/useWindowPosition';\nexport const ModalContext = React.createContext({});\n\nconst ModalProvider = ({\n  children\n}) => {\n  const _useWindowPosition = useWindowPosition(),\n        windowPosition = _useWindowPosition.windowPosition;\n\n  const _useState = useState(undefined),\n        _useState2 = _slicedToArray(_useState, 2),\n        extensionId = _useState2[0],\n        setExtensionId = _useState2[1];\n\n  function getExtensionId() {\n    window.postMessage({\n      type: \"GET_EXTENSION_ID\"\n    }, \"*\");\n  }\n\n  useEffect(() => {\n    // Set up event listeners from Content script\n    window.addEventListener(\"message\", function (event) {\n      if (event.source !== window) return;\n\n      if (event.data.type && event.data.type === \"EXTENSION_ID_RESULT\") {\n        setExtensionId(event.data.extensionId);\n      }\n    });\n  }, []);\n  return React.createElement(ModalContext.Provider, {\n    value: {\n      extensionId,\n      getExtensionId,\n      windowPosition\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, children);\n};\n\nexport default ModalProvider;","map":{"version":3,"sources":["/Applications/Peek/react-peak-extension/src/Contexts/ModalProvider.js"],"names":["React","useEffect","useState","useWindowPosition","ModalContext","createContext","ModalProvider","children","windowPosition","undefined","extensionId","setExtensionId","getExtensionId","window","postMessage","type","addEventListener","event","source","data"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,iBAAP,MAA8B,4BAA9B;AAEA,OAAO,MAAMC,YAAY,GAAGJ,KAAK,CAACK,aAAN,CAAoB,EAApB,CAArB;;AAEP,MAAMC,aAAa,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA,6BACXJ,iBAAiB,EADN;AAAA,QAC9BK,cAD8B,sBAC9BA,cAD8B;;AAAA,oBAEAN,QAAQ,CAACO,SAAD,CAFR;AAAA;AAAA,QAE/BC,WAF+B;AAAA,QAElBC,cAFkB;;AAItC,WAASC,cAAT,GAA0B;AACxBC,IAAAA,MAAM,CAACC,WAAP,CAAmB;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAnB,EAAiD,GAAjD;AACD;;AAEDd,EAAAA,SAAS,CAAC,MAAM;AACd;AACAY,IAAAA,MAAM,CAACG,gBAAP,CAAwB,SAAxB,EAAmC,UAASC,KAAT,EAAgB;AACjD,UAAIA,KAAK,CAACC,MAAN,KAAiBL,MAArB,EAA6B;;AAC7B,UAAII,KAAK,CAACE,IAAN,CAAWJ,IAAX,IAAoBE,KAAK,CAACE,IAAN,CAAWJ,IAAX,KAAoB,qBAA5C,EAAoE;AAClEJ,QAAAA,cAAc,CAACM,KAAK,CAACE,IAAN,CAAWT,WAAZ,CAAd;AACD;AACF,KALD;AAMD,GARQ,EAQN,EARM,CAAT;AAUA,SACE,oBAAC,YAAD,CAAc,QAAd;AACE,IAAA,KAAK,EAAE;AACLA,MAAAA,WADK;AAELE,MAAAA,cAFK;AAGLJ,MAAAA;AAHK,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOGD,QAPH,CADF;AAWD,CA7BD;;AA+BA,eAAeD,aAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport useWindowPosition from '../Hooks/useWindowPosition';\n\nexport const ModalContext = React.createContext({});\n\nconst ModalProvider = ({ children }) => {\n  const { windowPosition } = useWindowPosition();\n  const [extensionId, setExtensionId] = useState(undefined);\n\n  function getExtensionId() {\n    window.postMessage({ type: \"GET_EXTENSION_ID\" }, \"*\");\n  }\n\n  useEffect(() => {\n    // Set up event listeners from Content script\n    window.addEventListener(\"message\", function(event) {\n      if (event.source !== window) return;\n      if (event.data.type && (event.data.type === \"EXTENSION_ID_RESULT\")) {\n        setExtensionId(event.data.extensionId);\n      }\n    });\n  }, []);\n\n  return (\n    <ModalContext.Provider\n      value={{\n        extensionId,\n        getExtensionId,\n        windowPosition,\n      }}\n    >\n      {children}\n    </ModalContext.Provider>\n  );\n};\n\nexport default ModalProvider;\n"]},"metadata":{},"sourceType":"module"}